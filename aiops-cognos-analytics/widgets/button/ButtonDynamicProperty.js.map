{"version":3,"file":"ButtonDynamicProperty.js","names":["_FilterViewAPI","_interopRequireDefault","obj","__esModule","default","TYPE","filtersViewsResult","getFilters","filterViewAPI","FilterViewAPI","options","type","getData","Promise","resolve","ButtonDynamicProperty","constructor","features","Properties","registerProvider","initialize","getPropertyList","filters","data","tenant","forEach","filter","push","label","name","value","id","conditionSet","getFilter","filterId","find","f","getPropertyLayoutList","_default","_exports"],"sources":["../../ext/button/ButtonDynamicProperty.js"],"sourcesContent":["/* ******************************************************** {COPYRIGHT-TOP} ****\n * IBM Confidential\n * 5725-Q09, 5737-M96\n * Â© Copyright IBM Corp. 2024\n ********************************************************* {COPYRIGHT-END} ****/\nimport FilterViewAPI from '../common/FilterViewAPI';\n\nconst TYPE = 'alert';\nlet filtersViewsResult = [];\n\nasync function getFilters() {\n  const filterViewAPI = new FilterViewAPI({options: ['filter'], type: TYPE});\n  filtersViewsResult = await filterViewAPI.getData();\n  return Promise.resolve();\n}\n\nclass ButtonDynamicProperty {\n  constructor(options) {\n    options.features.Properties.registerProvider(this);\n  }\n\n  initialize() {\n    // this will make sure the promise is resolved before initializing property list\n    return getFilters();\n  }\n\n  getPropertyList() {\n    const filters = [];\n    filtersViewsResult.data?.tenant.filters.forEach(filter => {\n      filters.push({label: filter.name, value: filter.id, conditionSet: filter.conditionSet });\n    });\n\n    return [\n      {\n        'id': 'dropdownFilter',\n        'defaultValue': filters?.[0]?.value,\n        getFilter: (filterId) => {\n          return filters.find(f => f.value === filterId);\n        },\n        'editor': {\n          'sectionId': 'general.aiops_settings',\n          'uiControl': {\n            'type': 'DropDown',\n            'name': 'dropdown Filter',\n            'label': 'Filter',\n            'ariaLabel': 'Filter',\n            'options': filters\n          }\n        }\n      }\n      // {\n      //   'id': 'sliderRefreshInterval',\n      //   'type': '../UiSlider',\n      //   'module': '../ui/UiSlider',\n      //   'label': 'Refresh interval',\n      //   'active': true,\n      //   'connect': [true, false],\n      //   'setp': 1,\n      //   'start': [10],\n      //   'range': {\n      //     'min': 10,\n      //     'max': 60\n      //   }\n      // }\n    ];\n  }\n\n  getPropertyLayoutList() {\n    return [];\n  }\n}\n\nexport default ButtonDynamicProperty;\n"],"mappings":";;;;;;;EAKAA,cAAA,GAAAC,sBAAA,CAAAD,cAAA;EAAoD,SAAAC,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;EALpD;AACA;AACA;AACA;AACA;;EAGA,MAAMG,IAAI,GAAG,OAAO;EACpB,IAAIC,kBAAkB,GAAG,EAAE;EAE3B,eAAeC,UAAUA,CAAA,EAAG;IAC1B,MAAMC,aAAa,GAAG,IAAIC,sBAAa,CAAC;MAACC,OAAO,EAAE,CAAC,QAAQ,CAAC;MAAEC,IAAI,EAAEN;IAAI,CAAC,CAAC;IAC1EC,kBAAkB,GAAG,MAAME,aAAa,CAACI,OAAO,CAAC,CAAC;IAClD,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;EAEA,MAAMC,qBAAqB,CAAC;IAC1BC,WAAWA,CAACN,OAAO,EAAE;MACnBA,OAAO,CAACO,QAAQ,CAACC,UAAU,CAACC,gBAAgB,CAAC,IAAI,CAAC;IACpD;IAEAC,UAAUA,CAAA,EAAG;MACX;MACA,OAAOb,UAAU,CAAC,CAAC;IACrB;IAEAc,eAAeA,CAAA,EAAG;MAChB,MAAMC,OAAO,GAAG,EAAE;MAClBhB,kBAAkB,CAACiB,IAAI,EAAEC,MAAM,CAACF,OAAO,CAACG,OAAO,CAACC,MAAM,IAAI;QACxDJ,OAAO,CAACK,IAAI,CAAC;UAACC,KAAK,EAAEF,MAAM,CAACG,IAAI;UAAEC,KAAK,EAAEJ,MAAM,CAACK,EAAE;UAAEC,YAAY,EAAEN,MAAM,CAACM;QAAa,CAAC,CAAC;MAC1F,CAAC,CAAC;MAEF,OAAO,CACL;QACE,IAAI,EAAE,gBAAgB;QACtB,cAAc,EAAEV,OAAO,GAAG,CAAC,CAAC,EAAEQ,KAAK;QACnCG,SAAS,EAAGC,QAAQ,IAAK;UACvB,OAAOZ,OAAO,CAACa,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACN,KAAK,KAAKI,QAAQ,CAAC;QAChD,CAAC;QACD,QAAQ,EAAE;UACR,WAAW,EAAE,wBAAwB;UACrC,WAAW,EAAE;YACX,MAAM,EAAE,UAAU;YAClB,MAAM,EAAE,iBAAiB;YACzB,OAAO,EAAE,QAAQ;YACjB,WAAW,EAAE,QAAQ;YACrB,SAAS,EAAEZ;UACb;QACF;MACF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAAA,CACD;IACH;IAEAe,qBAAqBA,CAAA,EAAG;MACtB,OAAO,EAAE;IACX;EACF;EAAC,IAAAC,QAAA,GAAAC,QAAA,CAAAnC,OAAA,GAEcW,qBAAqB;AAAA","ignoreList":[]}