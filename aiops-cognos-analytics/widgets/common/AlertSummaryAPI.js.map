{"version":3,"file":"AlertSummaryAPI.js","names":["tenantId","ALERT_SUMMARY","getQuery","query","AlertSummaryAPI","groupBy","constructor","getData","filter","GQL_API_PATH","res","errorCheck","fetch","method","headers","body","JSON","stringify","variables","json","_default","_exports","default"],"sources":["../../ext/common/AlertSummaryAPI.js"],"sourcesContent":["/* ******************************************************** {COPYRIGHT-TOP} ****\n * IBM Confidential\n * 5725-Q09, 5737-M96\n * Â© Copyright IBM Corp. 2024\n ********************************************************* {COPYRIGHT-END} ****/\nimport { errorCheck } from './apiErrorCheck';\n\nconst tenantId = 'cfd95b7e-3bc7-4006-a4a8-a73a79c71255';\n\nconst ALERT_SUMMARY = `query($tenantId: ID! $filter: String $groupBy: [String]) {\n  tenant(id: $tenantId) {\n    alertSummary(filter: $filter groupBy: $groupBy)\n  }\n}`;\n\nfunction getQuery() {\n  return {\n    query: `${ALERT_SUMMARY}`\n  };\n}\n\nclass AlertSummaryAPI {\n  groupBy = ['severity'];\n\n  constructor({groupBy}) {\n    this.groupBy = groupBy;\n  }\n\n  async getData({filter = ''}) {\n    const GQL_API_PATH = '/api/p/hdm_ea_uiapi';\n    const res = await errorCheck(fetch(GQL_API_PATH, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        ...getQuery(),\n        variables: {\n          tenantId,\n          filter,\n          groupBy: this.groupBy\n        }\n      })\n    }));\n\n    return await res.json();\n  }\n}\n\nexport default AlertSummaryAPI;\n"],"mappings":";;;;;;;EAAA;AACA;AACA;AACA;AACA;;EAGA,MAAMA,QAAQ,GAAG,sCAAsC;EAEvD,MAAMC,aAAa,GAAI;AACvB;AACA;AACA;AACA,EAAE;EAEF,SAASC,QAAQA,CAAA,EAAG;IAClB,OAAO;MACLC,KAAK,EAAG,GAAEF,aAAc;IAC1B,CAAC;EACH;EAEA,MAAMG,eAAe,CAAC;IACpBC,OAAO,GAAG,CAAC,UAAU,CAAC;IAEtBC,WAAWA,CAAC;MAACD;IAAO,CAAC,EAAE;MACrB,IAAI,CAACA,OAAO,GAAGA,OAAO;IACxB;IAEA,MAAME,OAAOA,CAAC;MAACC,MAAM,GAAG;IAAE,CAAC,EAAE;MAC3B,MAAMC,YAAY,GAAG,qBAAqB;MAC1C,MAAMC,GAAG,GAAG,MAAM,IAAAC,yBAAU,EAACC,KAAK,CAACH,YAAY,EAAE;QAC/CI,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB,GAAGf,QAAQ,CAAC,CAAC;UACbgB,SAAS,EAAE;YACTlB,QAAQ;YACRQ,MAAM;YACNH,OAAO,EAAE,IAAI,CAACA;UAChB;QACF,CAAC;MACH,CAAC,CAAC,CAAC;MAEH,OAAO,MAAMK,GAAG,CAACS,IAAI,CAAC,CAAC;IACzB;EACF;EAAC,IAAAC,QAAA,GAAAC,QAAA,CAAAC,OAAA,GAEclB,eAAe;AAAA","ignoreList":[]}