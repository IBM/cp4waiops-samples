{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "panel",
      "id": "bargauge",
      "name": "Bar gauge",
      "version": ""
    },
    {
      "type": "panel",
      "id": "gauge",
      "name": "Gauge",
      "version": ""
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "12.1.0"
    },
    {
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    },
    {
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": ""
    },
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 21,
      "panels": [
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 1
          },
          "id": 59,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "# Policy Automation Component Overview\n\nAutomation policies are used to define the steps for processing events into alerts and incidents.\nExamples of these steps include: deduplication, correlation, suppresion, runbook association, and incident creation.\nThe management and execution of these policies is handled by the Policy Automation component which can be broken down further into the following sub-components:\n\n- ***Policy registry***: API for storing and retrieving defined policies\n- ***Policy engine***: Responsible for executing policies in response to incoming events and changes to alerts and incidents\n- ***Datarouting***: Used to persist policy runtime statistics, for example run count, last run time and failure count\n- ***Operator***: Manages the deployment of the policy services and runtime engine\n\n### Policy engine\nThe **policy engine**, which executes policies, is broken down further into the following sub-components:\n- **Task manager(s)**: Policy execution occurs within these pods and will be automatically distributed across them.\n- **Job manager(s)**: Responsible for dispatching and managing work to be done by the task managers. Only one will be active at a time, others will serve as a backup.\n- **Scheduler**: Responsible for associating policies to requests (new events/alerts/incidents, alert/incident updates)\n- **Queue**: Once the scheduler has associated a policy to a request, it is put into a queue. The size of the queue is a performance indicator for how quickly Policy Automation is processing requests.\n\nPolicies are triggered in reaction to new events, alert/incident updates or notifications of persisted changes to alerts/incidents.\n\nWhen a new message is processed, the policy engine first determines if any policies are already executing for that alert/incident. If there are, the message will be added to the request queue to maintain order, until all previous policies for that alert / incident have executed.\n\nDuring policy execution, policies can store information for later retrieval. This information is called policy state; some examples of it's use are:\n\n1. To track open alerts for the purposes of deduplication\n2. To track correlation group windows so that correlation can be scoped to time windows\n3. To track open incidents for the purposes of deduplication\n\nThis state is held in memory, distributed across the task manager pods and periodically persisted to disk in a process called checkpointing. If this state grows too large to fit across the provisioned task managers, the policy engine can fail, so the size of this state is an important metric. \n\n**Dependencies:**\n\n- ***Cassandra***: Policy database. System and user-defined policies are stored here.\n- ***Kafka***: Message Broker system for ingesting requests and outputting results.\n- ***Postgres***: Backup policy database.\n- ***Topology Status Service***: Responsible for correlating new alerts with their corresponding topological resources.",
            "mode": "markdown"
          },
          "pluginVersion": "11.3.0",
          "title": "",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the number of pods that were newly created within the time range.\n\nNew pods indicate restarts may have occurred which could result in loss of functionality. Review the pod uptime graph to see if any gaps in uptime occurred.\n\nNew pods don't always indicate a problem and in some cases are part of routine processing and scaling. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pods are stable - no new pods within time range"
                    },
                    "1": {
                      "color": "semi-dark-green",
                      "index": 1,
                      "text": "1 new pod within time range - review uptime graph for gaps"
                    },
                    "2": {
                      "color": "green",
                      "index": 2,
                      "text": "2 new pods within time range - review uptime graph for gaps"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "3 new pods within time range - review uptime graph for gaps"
                    },
                    "4": {
                      "color": "super-light-green",
                      "index": 4,
                      "text": "4 new pods within time range - review uptime graph for gaps"
                    },
                    "5": {
                      "color": "super-light-green",
                      "index": 5,
                      "text": "5 new pods within time range - review uptime graph for gaps"
                    },
                    "6": {
                      "color": "super-light-yellow",
                      "index": 6,
                      "text": "6 new pods within time range - review uptime graph for gaps"
                    },
                    "7": {
                      "color": "super-light-yellow",
                      "index": 7,
                      "text": "7 new pods within time range - review uptime graph for gaps"
                    },
                    "8": {
                      "color": "light-yellow",
                      "index": 8,
                      "text": "8 new pods within time range - review uptime graph for gaps"
                    },
                    "9": {
                      "color": "light-yellow",
                      "index": 9,
                      "text": "9 new pods within time range - review uptime graph for gaps"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 10,
                    "result": {
                      "color": "yellow",
                      "index": 10,
                      "text": "10-20 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 20
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 21,
                    "result": {
                      "color": "light-red",
                      "index": 11,
                      "text": "21-40 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 40
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 41,
                    "result": {
                      "color": "red",
                      "index": 12,
                      "text": "41+ new pods within time range - review uptime graph for gaps"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "noValue": "pods are stable - no new pods within time range",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 928
          },
          "id": 183,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 20
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(((sum((time() - kube_pod_start_time{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\"}) - $__range_s) by (pod)) < 60) <= bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of active pods for each sub-component of Policy Automation (Policy Registry, Policy Engine, DataRouting, and Operator). Pods stuck in \"Pending\" or \"Unknown\" states for prolonged periods of time are problematic and may result in loss of functionality to the component",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto",
                  "wrapText": true
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 8,
            "x": 0,
            "y": 929
          },
          "id": 93,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "kube_pod_status_phase{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\",  phase=~\"Running|Pending|Unknown\"} == 1",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Policy Automation component pods",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {
                "keepLabels": [
                  "phase",
                  "pod"
                ],
                "mode": "columns"
              }
            },
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "kube_pod_status_phase": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 1,
                  "kube_pod_status_phase": 0,
                  "phase": 3,
                  "pod": 2
                },
                "renameByName": {
                  "Value": "pod start time"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "field": "pod start time"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Pod Uptimes for Policy Automation component pods",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 16,
            "x": 8,
            "y": 929
          },
          "id": 175,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "time() -sum(kube_pod_start_time{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\"}) by (pod)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Policy Automation Pods Uptime",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Tracks the uptime of the Policy Engine, indicating the period since the last restart or failure. Important for ensuring continuous policy execution and event processing. High uptime demonstrates a stable and reliable Policy Engine.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 16,
            "x": 8,
            "y": 937
          },
          "id": 69,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(flink_jobmanager_job_uptime{job=\"aiops-ir-lifecycle-flink-metrics\"}) by (job_name)",
              "interval": "",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Policy engine uptime",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This time series shows the rates at which requests are being received and completed by the policy engine. Requests include new events, changes to alerts/incidents, and intermediary policy executions. This provides insight into the overall volume flowing through the component, as well as showcasing any lag between requests received vs processed.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 941
          },
          "id": 27,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(irate(flink_taskmanager_job_task_operator_schedulerCompletions[1m:30s]))",
              "legendFormat": "Completions",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(irate(flink_taskmanager_job_task_operator_schedulerRequests[1m:30s]))",
              "hide": false,
              "instant": false,
              "legendFormat": "Requests",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Policy Engine Request Rates",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This metric estimates how long requests are waiting in the internal policy engine queue before being executed. In normal operation, this number should be small, a large queue age indicates a high load on the system and/or policies which are taking a long time to execute.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 8,
            "y": 941
          },
          "id": 28,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (subtask_index) (flink_taskmanager_job_task_operator_partitionKey_schedulerPartitionQueuedRequests) / sum by (subtask_index) (flink_taskmanager_job_task_operator_schedulerCompletions)",
              "legendFormat": "Index {{ subtask_index }}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Request queue age",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This metric represents the total number of requests waiting in the internal policy engine queue for each parallel queue (index). In normal operation and default configuration, this should vary between 0 and ~3000 per index. If any index is regularly exceeding this value, then it may indicate high load which can lead to slow policy execution.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 16,
            "y": 941
          },
          "id": 70,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (subtask_index) (flink_taskmanager_job_task_operator_partitionKey_schedulerPartitionQueuedRequests)",
              "interval": "",
              "legendFormat": "Index {{ subtask_index }}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Request queue size",
          "type": "timeseries"
        }
      ],
      "title": "Policy Automation component",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 65,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level CPU usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "super-light-green",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "super-light-green",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "yellow",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 1448
          },
          "id": 189,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) * 0.8 <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level memory usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "yellow",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 1448
          },
          "id": 192,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) * 0.8 <= max(max_over_time(container_memory_working_set_bytes{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality.\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "all pod-level CPU usage has stayed under current limits"
                    },
                    "1": {
                      "color": "super-light-yellow",
                      "index": 1,
                      "text": "1 pod has exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-red",
                      "index": 3,
                      "text": "3 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "5+ pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 1914
          },
          "id": 195,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of component pods that have exceeded their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "all pod-level memory usage has stayed under current limits"
                    },
                    "1": {
                      "color": "red",
                      "index": 1,
                      "text": "1 pod has exceeded their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "red",
                      "index": 2,
                      "text": "2 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "red",
                      "index": 3,
                      "text": "3 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 1914
          },
          "id": 191,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) <= max(max_over_time(container_memory_working_set_bytes{pod=~\".*-lifecycle-.*\", pod!~\".*validation.*\", pod!~\".*job.*\", pod!~\".*operand-deployment-lifecycle-manager.*\", container!=\"\", container!=\"POD\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Flink Task Managers in the Policy Automation component. High CPU usage may indicate that the Task Managers are under heavy load, potentially impacting policy execution performance. Monitor this metric to ensure optimal resource allocation and efficient processing of policy tasks.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 1915
          },
          "id": 156,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Task Manager CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Flink Task Manager pods in the Policy Automation component. As a java application, it is not uncommon for usage to be above 80% due to underlying memory allocation/clean-up in the Java Virtual Machine (JVM).\n\nWith that said, high memory usage can still indicate that the Task Managers are consuming significant resources, potentially impacting policy execution performance. Monitor this metric to ensure optimal resource allocation and efficient processing of policy tasks.\n\n\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 4
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 1915
          },
          "id": 157,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-flink-taskmanager-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Task Manager Memory  Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Flink Job Manager in the Policy Automation component. High CPU usage may indicate that the Job Managers are under heavy load, potentially impacting policy execution performance. Monitor this metric to ensure optimal resource allocation and efficient processing of policy tasks.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 1921
          },
          "id": 158,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Job Manager CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Job Manager pods in the Policy Automation component. High memory usage may suggest that the Job Managers are consuming significant resources, potentially affecting policy execution performance. Monitor this metric to ensure efficient resource allocation and optimal processing of policy tasks.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 1921
          },
          "id": 159,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-flink-.*\", pod!~\"aiops-ir-lifecycle-flink-taskmanager.*\", container!=\"\", container!=\"POD\", container=~\"flink-main-container\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Job Manager Memory  Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "his panel visualizes the per-second CPU usage rate of the Policy Registry pods in the Policy Automation component. High CPU usage may suggest that the Policy Registry is under heavy load, potentially affecting policy storage and retrieval operations. Monitor this metric to ensure efficient management and access to defined policies.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 1927
          },
          "id": 160,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Policy Registry CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Policy Registry pods in the Policy Automation component. High memory usage may indicate that the Policy Registry is consuming significant resources, potentially affecting policy storage and retrieval operations. Monitor this metric to ensure efficient management and access to defined policies, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 1927
          },
          "id": 161,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-policy-registry-.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Policy Registry Memory  Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Datarouting pods in the Policy Automation component. High CPU usage may indicate that Datarouting is under heavy load, potentially impacting the persistence of policy runtime statistics. Monitor this metric to ensure efficient storage and retrieval of policy execution data.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 1933
          },
          "id": 162,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Data Routing CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Datarouting pods in the Policy Automation component. High memory usage may suggest that Datarouting is consuming significant resources, potentially impacting the persistence of policy runtime statistics. Monitor this metric to ensure efficient storage and retrieval of policy execution data, and to prevent resource exhaustion.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 1933
          },
          "id": 163,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-lifecycle-datarouting-.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Data Routing Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Policy Automation Operator pod. High CPU usage may suggest that the Operator is under heavy load, potentially affecting the deployment and management of policy services and the runtime engine. Monitor this metric to ensure efficient operation and resource allocation for the Policy Automation component.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 1939
          },
          "id": 164,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Policy Automation Operator CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Policy Automation Operator pods. High memory usage may indicate that the Operator is consuming significant resources, potentially affecting the deployment and management of policy services and the runtime engine. Monitor this metric to ensure efficient operation and resource allocation for the Policy Automation component, and to prevent resource exhaustion.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 1939
          },
          "id": 165,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"ir-lifecycle-operator-controller-manager-.*\", container!=\"\", container!=\"POD\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Policy Automation Operator Memory Usage",
          "type": "timeseries"
        }
      ],
      "title": "Policy Automation resource utilization",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "id": 61,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the number of pods that were newly created within the time range.\n\nNew pods indicate restarts may have occurred which could result in loss of functionality. Review the pod uptime graph to see if any gaps in uptime occurred.\n\nNew pods don't always indicate a problem and in some cases are part of routine processing and scaling. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pods are stable - no new pods within time range"
                    },
                    "1": {
                      "color": "semi-dark-green",
                      "index": 1,
                      "text": "1 new pod within time range - review uptime graph for gaps"
                    },
                    "2": {
                      "color": "green",
                      "index": 2,
                      "text": "2 new pods within time range - review uptime graph for gaps"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "3 new pods within time range - review uptime graph for gaps"
                    },
                    "4": {
                      "color": "super-light-green",
                      "index": 4,
                      "text": "4 new pods within time range - review uptime graph for gaps"
                    },
                    "5": {
                      "color": "super-light-green",
                      "index": 5,
                      "text": "5 new pods within time range - review uptime graph for gaps"
                    },
                    "6": {
                      "color": "super-light-yellow",
                      "index": 6,
                      "text": "6 new pods within time range - review uptime graph for gaps"
                    },
                    "7": {
                      "color": "super-light-yellow",
                      "index": 7,
                      "text": "7 new pods within time range - review uptime graph for gaps"
                    },
                    "8": {
                      "color": "light-yellow",
                      "index": 8,
                      "text": "8 new pods within time range - review uptime graph for gaps"
                    },
                    "9": {
                      "color": "light-yellow",
                      "index": 9,
                      "text": "9 new pods within time range - review uptime graph for gaps"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 10,
                    "result": {
                      "color": "yellow",
                      "index": 10,
                      "text": "10-20 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 20
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 21,
                    "result": {
                      "color": "light-red",
                      "index": 11,
                      "text": "21-40 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 40
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 41,
                    "result": {
                      "color": "red",
                      "index": 12,
                      "text": "41+ new pods within time range - review uptime graph for gaps"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "noValue": "pods are stable - no new pods within time range",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 3
          },
          "id": 184,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 20
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(((sum((time() - kube_pod_start_time{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\"}) - $__range_s) by (pod)) < 60) <= bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of active pods for each dependency of Policy Automation (Cassandra, Kafka, Postgres, and Topology Status Service). Any issues with these dependencies can impact Policy Automation's functionality. Pods stuck in \"Pending\" or \"Unknown\" states for prolonged periods of time are problematic and may result in loss of functionality to the component.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto",
                  "wrapText": true
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 0,
            "y": 54
          },
          "id": 174,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "kube_pod_status_phase{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\",  phase=~\"Running|Pending|Unknown\"} == 1",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Policy Automation dependency pods",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {
                "keepLabels": [
                  "phase",
                  "pod"
                ],
                "mode": "columns"
              }
            },
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "kube_pod_status_phase": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 1,
                  "kube_pod_status_phase": 0,
                  "phase": 3,
                  "pod": 2
                },
                "renameByName": {
                  "Value": "pod start time"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "field": "pod start time"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Pod Uptimes for Policy Automation dependency pods",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 16,
            "x": 8,
            "y": 54
          },
          "id": 94,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "time() -sum(kube_pod_start_time{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\"}) by (pod)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Policy Automation Dependencies Uptime",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level CPU usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "super-light-green",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "super-light-green",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "yellow",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 136
          },
          "id": 185,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) * 0.8 <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level memory usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "yellow",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 136
          },
          "id": 187,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", resource=\"memory\"}) by (pod)) * 0.8 <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality.\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "all pod-level CPU usage has stayed under current limits"
                    },
                    "1": {
                      "color": "super-light-yellow",
                      "index": 1,
                      "text": "1 pod has exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-red",
                      "index": 3,
                      "text": "3 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "5+ pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 137
          },
          "id": 186,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of component pods that have exceeded their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "all pod-level memory usage has stayed under current limits"
                    },
                    "1": {
                      "color": "red",
                      "index": 1,
                      "text": "1 pod has exceeded their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "red",
                      "index": 2,
                      "text": "2 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "red",
                      "index": 3,
                      "text": "3 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 137
          },
          "id": 188,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", resource=\"memory\"}) by (pod)) <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-topology-status.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", container!=\"POD\"}[$__range])) by (name)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of PostgreSQL pods. High CPU usage may indicate that the PostgreSQL database is under heavy load, potentially impacting backup policy database operations. Monitor this metric to ensure efficient storage and retrieval of policy data.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 138
          },
          "id": 33,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\".*core-postgres.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\".*core-postgres.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests ",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\".*core-postgres.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Postgres CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Postgres pods. High memory usage may indicate that the Postgres database is consuming significant resources, potentially impacting backup policy database operations. Monitor this metric to ensure efficient storage and retrieval of policy data, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 4
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 138
          },
          "id": 37,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\".*core-postgres.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\".*core-postgres.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\".*core-postgres.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Postgres Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Cassandra pods.  High CPU usage may suggest that the Cassandra database is under heavy load, potentially affecting the storage and retrieval of system and user-defined policies. Monitor this metric to ensure efficient operation and resource allocation for the policy database.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 144
          },
          "id": 49,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-cassandra.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Cassandra CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Cassandra pods. High memory usage may suggest that the Cassandra database is consuming significant resources, potentially affecting the storage and retrieval of system and user-defined policies. Monitor this metric to ensure efficient operation and resource allocation for the policy database, and to prevent resource exhaustion.\n\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 144
          },
          "id": 51,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-cassandra.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Cassandra Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Kafka pods. High CPU usage may indicate that the Kafka message broker is under heavy load, potentially impacting the ingestion and output of requests. Monitor this metric to ensure efficient message processing and communication within the system.\n\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 5
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 150
          },
          "id": 6,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"iaf-system-kafka.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"iaf-system-kafka.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"iaf-system-kafka.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Kafka CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Kafka pods. High memory usage may indicate that the Kafka message broker is consuming significant resources, potentially impacting the ingestion and output of requests. Monitor this metric to ensure efficient message processing and communication within the system, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 150
          },
          "id": 35,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"iaf-system-kafka.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"iaf-system-kafka.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"iaf-system-kafka.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Kafka Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Topology Status Service pods. High CPU usage may suggest that the Topology Status Service is under heavy load, potentially affecting its ability to provide status information. Monitor this metric to ensure efficient operation and resource allocation for the Topology Status Service.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 156
          },
          "id": 32,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Topology Status Service CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Topology Status Service pods. High memory usage may suggest that the Topology Status Service is consuming significant resources, potentially affecting its ability to provide status information. Monitor this metric to ensure efficient operation and resource allocation for the Topology Status Service, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 156
          },
          "id": 36,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-status.*\", pod!~\".*job.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Topology Status Memory Usage",
          "type": "timeseries"
        }
      ],
      "title": "Policy Automation dependencies",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 75,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Represents the total number of events processed by the Policy Automation component over a given time period.\nA key metric for understanding the volume of events being handled and the overall load on the system.\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 0,
            "y": 4
          },
          "id": 121,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.lifecycle.input.events\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Events ingested in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks alert create/update requests in time range. Updates can come from events, manual user changes, and Cloud Pak for AIOps enrichments.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 6,
            "y": 4
          },
          "id": 122,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.irdatalayer.changes.alerts\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Alerts created/updated in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rates for:\n- event ingestion\n- alert creation/update\n- incident creation/update",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqpm"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 4
          },
          "id": 39,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum (rate(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.lifecycle.input.events\"}[3m]))",
              "legendFormat": "Events input",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum (rate(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.irdatalayer.changes.alerts\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "Alert creates/updates",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum (rate(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.irdatalayer.changes.stories\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "Incident creates/updates",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Event/alert/incident traffic rates",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the total number of new incidents and incident updates that have occurred within the time range.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 124,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(kafka_server_brokertopicmetrics_messagesin_total{topic=\"cp4waiops-cartridge.irdatalayer.changes.stories\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Incidents created/updated in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Kafka consumer lag by topic and partition for the Policy Automation component. This metric gives insight into how quickly inbound messages are being processed by the Policy Automation component.\n\nKafka topics are broken down into partitions. Partitions are physical files that act as messaging queues. Consumer lag is the number of messages that have not yet been processed from the queue (partition). Consumer lag will rise and fall in alignment with spikes in traffic.\n\nThe legend shows the kafka topics the Policy Automation component consumes inbound messages from. Consistently high consumer lag suggests that the Policy Automation component is falling behind in processing messages, which can lead to delayed processing for messages in that topic, such as policy execution and alert/incident changes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 12
          },
          "id": 209,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (task_name) (max_over_time(flink_taskmanager_job_task_operator_pendingRecords[5m]) >= 0)",
              "legendFormat": "{{task_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Kafka Consumer Lag",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Average Kafka message sizes (bytes) produced by the Policy Automation component, organized by Kafka topic. This metric gives insight into how much outbound network traffic is being produced by the Policy Automation component.\n\nThe legend shows the kafka topics the Policy Automation component produces outbound messages to. Large average message sizes can cause Kafka PVC to fill up, as well as stretch network bandwidth which can slow down the overall network. Monitor which topics are producing the largest messages to see if there are any outliers.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 20
          },
          "id": 83,
          "interval": "5s",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(flink_taskmanager_job_task_operator_KafkaProducer_request_size_avg > 0) by (operator_name)",
              "hide": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Kafka produce request size",
          "type": "timeseries"
        }
      ],
      "title": "Policy Automation message I/O",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 2,
      "panels": [
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 603
          },
          "id": 57,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "# Datalayer component overview\n\nThe Datalayer is the central storage component that works closely with the Policy Automation component to persist and communicate changes made to alerts and incidents.\n\nThe component can be broken down further into the following sub-components:\n\n- ***Standard API***: Instance that connects to active datastore (PostgreSQL). It handles incoming Kafka & HTTP requests for access and manipulation of alert & incident data.\n- ***Datalayer API***: This is a UI facing datalayer service. Performs validation of HTTP requests from the UI and other clients.\n- ***Job Manager***: This datalayer instance performs a range of timed jobs to detect expired alerts.\n- ***User config service***: Service that works with UI to store & fetch user configurations.\n- ***Archiving service***: Service that stores alerts for analysis.\n\n**Dependencies:**\n- ***Postgres***: Main database used for storing alert and incident data.\n- ***Cassandra***: Database for storing archived records.\n- ***Kafka***: Message Broker system for ingesting requests and outputting results.\n- ***ElasticSearch***: Search engine for database query optimization.\n",
            "mode": "markdown"
          },
          "pluginVersion": "11.3.0",
          "title": "",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the number of pods that were newly created within the time range.\n\nNew pods indicate restarts may have occurred which could result in loss of functionality. Review the pod uptime graph to see if any gaps in uptime occurred.\n\nNew pods don't always indicate a problem and in some cases are part of routine processing and scaling. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pods are stable - no new pods within time range"
                    },
                    "1": {
                      "color": "semi-dark-green",
                      "index": 1,
                      "text": "1 new pod within time range - review uptime graph for gaps"
                    },
                    "2": {
                      "color": "green",
                      "index": 2,
                      "text": "2 new pods within time range - review uptime graph for gaps"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "3 new pods within time range - review uptime graph for gaps"
                    },
                    "4": {
                      "color": "super-light-green",
                      "index": 4,
                      "text": "4 new pods within time range - review uptime graph for gaps"
                    },
                    "5": {
                      "color": "super-light-green",
                      "index": 5,
                      "text": "5 new pods within time range - review uptime graph for gaps"
                    },
                    "6": {
                      "color": "super-light-yellow",
                      "index": 6,
                      "text": "6 new pods within time range - review uptime graph for gaps"
                    },
                    "7": {
                      "color": "super-light-yellow",
                      "index": 7,
                      "text": "7 new pods within time range - review uptime graph for gaps"
                    },
                    "8": {
                      "color": "light-yellow",
                      "index": 8,
                      "text": "8 new pods within time range - review uptime graph for gaps"
                    },
                    "9": {
                      "color": "light-yellow",
                      "index": 9,
                      "text": "9 new pods within time range - review uptime graph for gaps"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 10,
                    "result": {
                      "color": "yellow",
                      "index": 10,
                      "text": "10-20 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 20
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 21,
                    "result": {
                      "color": "light-red",
                      "index": 11,
                      "text": "21-40 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 40
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 41,
                    "result": {
                      "color": "red",
                      "index": 12,
                      "text": "41+ new pods within time range - review uptime graph for gaps"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "noValue": "pods are stable - no new pods within time range",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 933
          },
          "id": 193,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 20
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(((sum((time() - kube_pod_start_time{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\"}) - $__range_s) by (pod)) < 60) <= bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of active pods for each sub-component of Datalayer (Standard API, Datalayer API, User config service, and Archiving service). Pods stuck in \"Pending\" or \"Unknown\" states for prolonged periods of time are problematic and may result in loss of functionality to the component.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 934
          },
          "id": 66,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "kube_pod_status_phase{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", phase=~\"Running|Pending|Unknown\"} == 1",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Datalayer component pods",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {
                "keepLabels": [
                  "phase",
                  "pod"
                ]
              }
            },
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "kube_pod_status_phase": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 1,
                  "kube_pod_status_phase": 0,
                  "phase": 3,
                  "pod": 2
                },
                "renameByName": {}
              }
            },
            {
              "id": "limit",
              "options": {
                "limitField": ""
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Pod uptimes for datalayer component pods",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 16,
            "x": 8,
            "y": 934
          },
          "id": 129,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "time() -sum(kube_pod_start_time{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\"}) by (pod)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Datalayer Pods Uptime",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Health & readiness status of Datalayer services. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 13,
            "x": 0,
            "y": 943
          },
          "id": 1,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_ncodl_std_smstatus{health=\"status\", kind=\"application\"})",
              "format": "time_series",
              "legendFormat": "Standard API",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_ncodl_api_smstatus{health=\"status\", kind=\"application\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "Datalayer API",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_ncodl_jobmgr_smstatus{health=\"status\", kind=\"application\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "Job Manager",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_ncodl_if_smstatus{health=\"status\", kind=\"application\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "ncodl-if service",
              "range": true,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_usercfg_smstatus{health=\"status\", kind=\"application\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "User Config Services",
              "range": true,
              "refId": "E"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max by(kind) (ibm_aiops_ircore_archiving_smstatus{health=\"status\", kind=\"application\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "Archiving Services",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "Health Status for Datalayer services",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Only applicable for NOI integrations . Rate of events forwarded from Netcool/OMNIbus ObjectServer into Cloud Pak for AIOps system.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "noValue": "#####",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 6,
            "x": 13,
            "y": 943
          },
          "id": 147,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "rate(ibm_aiops_ircore_ncodl_if_events[1m])",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "NOI Event Forwarding Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Only applicable for NOI integrations . Total count of events forwarded from Netcool/OMNIbus ObjectServer into Cloud Pak for AIOps system.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "max": 9999999999999,
              "noValue": "#####",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 19,
            "y": 943
          },
          "id": 148,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(ibm_aiops_ircore_ncodl_if_events)",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "NOI Event Forwarding Total",
          "type": "stat"
        }
      ],
      "title": "Datalayer component",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 68,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level CPU usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "super-light-green",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "super-light-green",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "yellow",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 604
          },
          "id": 198,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) * 0.8 <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level memory usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "yellow",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 604
          },
          "id": 200,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) * 0.8 <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality.\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "all pod-level CPU usage has stayed under current limits"
                    },
                    "1": {
                      "color": "super-light-yellow",
                      "index": 1,
                      "text": "1 pod has exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-red",
                      "index": 3,
                      "text": "3 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "5+ pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 856
          },
          "id": 204,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\", resource=\"cpu\", resource=\"cpu\"}) by (pod)) <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of component pods that have exceeded their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "all pod-level memory usage has stayed under current limits"
                    },
                    "1": {
                      "color": "red",
                      "index": 1,
                      "text": "1 pod has exceeded their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "red",
                      "index": 2,
                      "text": "2 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "red",
                      "index": 3,
                      "text": "3 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 856
          },
          "id": 206,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", resource=\"memory\"}) by (pod)) <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-ir-core-ncodl-.*\", pod!~\".*cjob.*\", pod!~\".*presetup.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Standard API pods in the Datalayer component. High CPU usage may indicate that the Standard API is under heavy load, potentially impacting its ability to handle Kafka and HTTP requests for alert and incident data access and manipulation. Monitor this metric to ensure efficient processing of requests and to prevent performance degradation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "shades"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 857
          },
          "id": 30,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-ncodl-std-.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-std-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-std-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Standard API CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Standard API pods in the Datalayer component. High memory usage may suggest that the Standard API is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for the Standard API, and to prevent resource exhaustion.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 857
          },
          "id": 34,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-core-ncodl-std.*\", container!=\"\", container!=\"POD\"}) by(pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-std.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-std.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Standard API Memory Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Job Manager pods in the Datalayer component. High CPU usage may indicate that the Job Manager is under heavy load, potentially impacting its ability to detect expired alerts. Monitor this metric to ensure efficient processing of timed jobs and to prevent performance degradation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "shades"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 863
          },
          "id": 12,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-ncodl-jobmgr-.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-jobmgr-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-jobmgr-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Job Manager CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Job Manager pods in the Datalayer component. High memory usage may suggest that the Job Manager is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for the Job Manager, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 863
          },
          "id": 15,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-core-ncodl-jobmgr.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-jobmgr.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-jobmgr.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Job Manager Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Datalayer API pods in the Datalayer component. High CPU usage may indicate that the Datalayer API is under heavy load, potentially impacting its ability to validate HTTP requests from the UI and other clients. Monitor this metric to ensure efficient processing of requests and to prevent performance degradation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 869
          },
          "id": 14,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-ncodl-api-.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-api-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-api-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Datalayer API CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Datalayer API pods in the Datalayer component. High memory usage may suggest that the Datalayer API is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for the Datalayer API, and to prevent resource exhaustion.\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "shades"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 869
          },
          "id": 13,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-core-ncodl-api.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-ncodl-api.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-ncodl-api.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Datalayer API Memory Usage ",
          "type": "timeseries"
        }
      ],
      "title": "Datalayer resource utilization",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "id": 67,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the number of pods that were newly created within the time range.\n\nNew pods indicate restarts may have occurred which could result in loss of functionality. Review the pod uptime graph to see if any gaps in uptime occurred.\n\nNew pods don't always indicate a problem and in some cases are part of routine processing and scaling. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pods are stable - no new pods within time range"
                    },
                    "1": {
                      "color": "semi-dark-green",
                      "index": 1,
                      "text": "1 new pod within time range - review uptime graph for gaps"
                    },
                    "2": {
                      "color": "green",
                      "index": 2,
                      "text": "2 new pods within time range - review uptime graph for gaps"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "3 new pods within time range - review uptime graph for gaps"
                    },
                    "4": {
                      "color": "super-light-green",
                      "index": 4,
                      "text": "4 new pods within time range - review uptime graph for gaps"
                    },
                    "5": {
                      "color": "super-light-green",
                      "index": 5,
                      "text": "5 new pods within time range - review uptime graph for gaps"
                    },
                    "6": {
                      "color": "super-light-yellow",
                      "index": 6,
                      "text": "6 new pods within time range - review uptime graph for gaps"
                    },
                    "7": {
                      "color": "super-light-yellow",
                      "index": 7,
                      "text": "7 new pods within time range - review uptime graph for gaps"
                    },
                    "8": {
                      "color": "light-yellow",
                      "index": 8,
                      "text": "8 new pods within time range - review uptime graph for gaps"
                    },
                    "9": {
                      "color": "light-yellow",
                      "index": 9,
                      "text": "9 new pods within time range - review uptime graph for gaps"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 10,
                    "result": {
                      "color": "yellow",
                      "index": 10,
                      "text": "10-20 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 20
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 21,
                    "result": {
                      "color": "light-red",
                      "index": 11,
                      "text": "21-40 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 40
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 41,
                    "result": {
                      "color": "red",
                      "index": 12,
                      "text": "41+ new pods within time range - review uptime graph for gaps"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "noValue": "pods are stable - no new pods within time range",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 605
          },
          "id": 207,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 20
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(((sum((time() - kube_pod_start_time{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\"}) - $__range_s) by (pod)) < 60) <= bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of active pods for each dependency of Datalayer Component (Postgres, Cassandra, Kafka, and ElasticSearch). Any issues with these dependencies can impact the Datalayer's functionality. Pods stuck in \"Pending\" or \"Unknown\" states for prolonged periods of time are problematic and may result in loss of functionality to the component\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto",
                  "wrapText": true
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 0,
            "y": 814
          },
          "id": 180,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "kube_pod_status_phase{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\",  phase=~\"Running|Pending|Unknown\"} == 1",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Datalayer dependency pods",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {
                "keepLabels": [
                  "phase",
                  "pod"
                ],
                "mode": "columns"
              }
            },
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "kube_pod_status_phase": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 1,
                  "kube_pod_status_phase": 0,
                  "phase": 3,
                  "pod": 2
                },
                "renameByName": {
                  "Value": "pod start time"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "field": "pod start time"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Pod Uptimes for Datalayer dependency pods",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 16,
            "x": 8,
            "y": 814
          },
          "id": 181,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "time() -sum(kube_pod_start_time{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\"}) by (pod)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Datalayer Dependency Pod Uptimes",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Postgres Dependency Health status with Standard API component. If in \"Bad\" state, this suggests an issue with Postgres dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 0,
            "y": 824
          },
          "id": 5,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(ibm_aiops_ircore_ncodl_std_smstatus{health=\"status\",dependency=\"postgres\"})",
              "format": "time_series",
              "legendFormat": "Pod: {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Standard API Instance Postgres Dependency Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Kafka dependency health status with Archiving Service.  If in \"Bad\" state, this suggests an issue with Kafka dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "noValue": "#####",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 8,
            "y": 824
          },
          "id": 153,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(ibm_aiops_ircore_archiving_smstatus{health=\"status\", kind=\"dependency\", dependency=\"messaging\"})",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Archiving Service Kafka Dependency Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Postgres dependency health status with User Configuration Service. If in \"Bad\" state, this suggests an issue with Postgres dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "noValue": "#####",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 16,
            "y": 824
          },
          "id": 152,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "ibm_aiops_ircore_usercfg_smstatus{health=\"status\",dependency=\"postgres\"}",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "User Configuration Service Postgres Dependency Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Kafka dependency health status with Standard API component.  If in \"Bad\" state, this suggests an issue with Postgres dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 0,
            "y": 827
          },
          "id": 4,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(ibm_aiops_ircore_ncodl_std_smstatus{health=\"status\",dependency=\"messaging\"})",
              "format": "time_series",
              "legendFormat": "Pod: {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Standard API Kafka Dependency Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Cassandra dependency health status with Archiving Service.  If in \"Bad\" state, this suggests an issue with Cassandra dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "noValue": "#####",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 8,
            "y": 827
          },
          "id": 154,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "ibm_aiops_ircore_archiving_smstatus{health=\"status\", kind=\"dependency\", dependency=\"cassandra\"}",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Archiving Service Instance Cassandra Dependency Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": " OpenSearch dependency health status with Datalayer API component.  If in \"Bad\" state, this suggests an issue with ElasticSearch dependency.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "green",
                      "index": 0,
                      "text": "Good"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 1,
                    "result": {
                      "color": "red",
                      "index": 1,
                      "text": "Bad"
                    },
                    "to": 255
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 8,
            "x": 16,
            "y": 827
          },
          "id": 17,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(ibm_aiops_ircore_ncodl_api_smstatus{health=\"status\", dependency=\"elasticsearch\"})",
              "format": "time_series",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Datalayer API OpenSearch Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level CPU usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "super-light-green",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "super-light-green",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "yellow",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 830
          },
          "id": 194,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) * 0.8 <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level memory usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "yellow",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 830
          },
          "id": 196,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) * 0.8 <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality.\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "all pod-level CPU usage has stayed under current limits"
                    },
                    "1": {
                      "color": "super-light-yellow",
                      "index": 1,
                      "text": "1 pod has exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-red",
                      "index": 3,
                      "text": "3 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "5+ pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 831
          },
          "id": 199,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of component pods that have exceeded their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "all pod-level memory usage has stayed under current limits"
                    },
                    "1": {
                      "color": "red",
                      "index": 1,
                      "text": "1 pod has exceeded their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "red",
                      "index": 2,
                      "text": "2 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "red",
                      "index": 3,
                      "text": "3 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 831
          },
          "id": 197,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*|.*core-postgres.*|iaf-system-kafka.*|aiops-opensearch.*\", pod!~\".*job.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of PostgreSQL pods. High CPU usage may indicate that the PostgreSQL database is under heavy load, potentially impacting backup policy database operations. Monitor this metric to ensure efficient storage and retrieval of policy data.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 832
          },
          "id": 166,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\".*core-postgres.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\".*core-postgres.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\".*core-postgres.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Postgres CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of PostgreSQL pods. High memory usage may indicate that the PostgreSQL database is consuming significant resources, potentially impacting backup policy database operations. Monitor this metric to ensure efficient storage and retrieval of policy data, and to prevent resource exhaustion.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 4
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 832
          },
          "id": 167,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\".*core-postgres.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\".*core-postgres.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\".*core-postgres.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Postgres Memory  Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Cassandra pods. High CPU usage may suggest that the Cassandra database is consuming significant resources, potentially affecting the storage and retrieval of system and user-defined policies. Monitor this metric to ensure efficient operation and resource allocation for the policy database.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "usage"
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 838
          },
          "id": 168,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-topology-cassandra.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-cassandra.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Cassandra CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Cassandra pods. High memory usage may suggest that the Cassandra database is consuming significant resources, potentially affecting the storage and retrieval of system and user-defined policies. Monitor this metric to ensure efficient operation and resource allocation for the policy database, and to prevent resource exhaustion.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 838
          },
          "id": 169,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-topology-cassandra.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-topology-cassandra.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-topology-cassandra.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Cassandra Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of Kafka pods. High CPU usage may indicate that the Kafka message broker is under heavy load, potentially impacting the ingestion and output of requests. Monitor this metric to ensure efficient message processing and communication within the system.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 5
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 844
          },
          "id": 170,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"iaf-system-kafka.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"iaf-system-kafka.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"iaf-system-kafka.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Kafka CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of Kafka pods. High memory usage may indicate that the Kafka message broker is consuming significant resources, potentially impacting the ingestion and output of requests. Monitor this metric to ensure efficient message processing and communication within the system, and to prevent resource exhaustion.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 844
          },
          "id": 171,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"iaf-system-kafka.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"iaf-system-kafka.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"iaf-system-kafka.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Kafka Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of OpenSearch pods in the system. High CPU usage may indicate that OpenSearch is under heavy load, potentially impacting search and logging operations. Monitor this metric to ensure efficient indexing, searching, and retrieval of logs and data.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 5
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 850
          },
          "id": 213,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-opensearch.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-opensearch.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-opensearch.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "OpenSearch CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of OpenSearch pods in the system. High memory usage may suggest that OpenSearch is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for OpenSearch, and to prevent resource exhaustion.\n\n\n\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 12,
            "y": 850
          },
          "id": 214,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-opensearch.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-opensearch.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-opensearch.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "OpenSearch Memory Usage",
          "type": "timeseries"
        }
      ],
      "title": "Datalayer dependencies",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 130,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Time taken to complete alert/incident actions averaged over the selected time range. Actions are executed by the Job Manager service.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 30,
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 30
                  },
                  {
                    "color": "orange",
                    "value": 45
                  },
                  {
                    "color": "red",
                    "value": 60
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 0,
            "y": 33
          },
          "id": 19,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(avg_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_last_timetorun[$__range]))",
              "legendFormat": "alert expire",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(avg_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "alert close",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(avg_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "alert delete",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(avg_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "incident close",
              "range": true,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(avg_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "incident delete",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Average Alert/Incident action durations",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Slowest time taken to complete alert/incident actions in the selected time range. Actions are executed by the Job Manager service.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 30,
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 30
                  },
                  {
                    "color": "orange",
                    "value": 45
                  },
                  {
                    "color": "red",
                    "value": 60
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 12,
            "y": 33
          },
          "id": 151,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(max_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_last_timetorun[$__range]))",
              "legendFormat": "alert expire",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(max_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "alert close",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(max_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "alert delete",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(max_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "incident close",
              "range": true,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(max_over_time(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_last_timetorun[$__range]))",
              "hide": false,
              "legendFormat": "incident delete",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Slowest Alert/Incident action durations",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Histogram displaying the get incidents UI endpoint response times that occurred within the time range.\n\nValues on the left are ranges of time in milliseconds, values on the right are the number of requests that fall into that time range.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 37
          },
          "id": 145,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_api_aiops_active_search_stories_bucket[$__range])) by (le)",
              "format": "heatmap",
              "instant": false,
              "interval": "",
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Get Incidents Duration (ms)",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Histogram displaying the get alerts UI endpoint response times that occurred within the time range.\n\nValues on the left are ranges of time in milliseconds, values on the right are the number of requests that fall into that time range.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 37
          },
          "id": 144,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_api_aiopsui_active_search_alerts_bucket[$__range])) by (le)",
              "format": "heatmap",
              "instant": false,
              "interval": "",
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Get Alerts Duration (ms)",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Success & failure counts for alert expire/close/delete actions executed by the Job Manager service that occurred within the time range.\n\n- **Alert expire**: occurs when an alert's expiration team has been reached\n- **Alert close**: occurs when alert expires or is closed by an event or triggered by manual user action in the UI\n- **Alert delete**: occurs after an alert has been closed for a period of time. This will delete it from the database",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 4,
            "x": 0,
            "y": 45
          },
          "id": 149,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_counter{container=\"jobmgr\", kind=\"updated\"}[$__range]))",
              "hide": false,
              "legendFormat": "close success",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_counter{container=\"jobmgr\", kind=\"failed\"}[$__range]))",
              "hide": false,
              "legendFormat": "close failure",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_counter{container=\"jobmgr\", kind=\"deleted\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete success",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_counter{container=\"jobmgr\", kind=\"failed\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete failure",
              "range": true,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_counter{container=\"jobmgr\", kind=\"updated\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "expire success",
              "range": true,
              "refId": "E"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_counter{container=\"jobmgr\", kind=\"failed\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": " expire failure",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "Alert Request Counts",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Success & failure rates for alert expire/close/delete actions executed by the Job Manager service.\n\n- **Alert expire**: occurs when an alert's expiration team has been reached\n- **Alert close**: occurs when alert expires or is closed by an event or triggered by manual user action in the UI\n- **Alert delete**: occurs after an alert has been closed for a period of time. This will delete it from the database",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 20,
            "x": 4,
            "y": 45
          },
          "id": 211,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_counter{container=\"jobmgr\", kind=\"updated\"}[3m]))",
              "hide": false,
              "legendFormat": "close success",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_close_counter{container=\"jobmgr\", kind=\"failed\"}[3m]))",
              "hide": false,
              "legendFormat": "close failure",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_counter{container=\"jobmgr\", kind=\"deleted\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete success",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_delete_counter{container=\"jobmgr\", kind=\"failed\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete failure",
              "range": true,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_counter{container=\"jobmgr\", kind=\"updated\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "expire success",
              "range": true,
              "refId": "E"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_alert_expire_counter{container=\"jobmgr\", kind=\"failed\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": " expire failure",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "Alert Request Rates",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Success & failure counts for incident close/delete actions executed by the Job Manager service that occurred within the time range..\n\n- **Incident close**: occurs when all related alerts have been closed or when triggered by manual user action in the UI\n- **Incident delete**: occurs after an incident has been closed for a period of time. This will delete it from the database",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 4,
            "x": 0,
            "y": 55
          },
          "id": 210,
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_counter{container=\"jobmgr\", kind=\"updated\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "close success",
              "range": true,
              "refId": "G"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_counter{container=\"jobmgr\", kind=\"failed\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "close failure",
              "range": true,
              "refId": "H"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_counter{container=\"jobmgr\", kind=\"deleted\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete success",
              "range": true,
              "refId": "I"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_counter{container=\"jobmgr\", kind=\"failed\"}[$__range]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete failure",
              "range": true,
              "refId": "J"
            }
          ],
          "title": "Incident Request Counts",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Success & failure rates for incident close/delete actions executed by the Job Manager service.\n\n- **Incident close**: occurs when all related alerts have been closed or when triggered by manual user action in the UI\n- **Incident delete**: occurs after an incident has been closed for a period of time. This will delete it from the database",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 20,
            "x": 4,
            "y": 55
          },
          "id": 212,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_counter{container=\"jobmgr\", kind=\"updated\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "close success",
              "range": true,
              "refId": "G"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_story_close_counter{container=\"jobmgr\", kind=\"failed\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "close failure",
              "range": true,
              "refId": "H"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_counter{container=\"jobmgr\", kind=\"deleted\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete success",
              "range": true,
              "refId": "I"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_ircore_ncodl_jobmgr_job_story_delete_counter{container=\"jobmgr\", kind=\"failed\"}[3m]))",
              "hide": false,
              "instant": false,
              "legendFormat": "delete failure",
              "range": true,
              "refId": "J"
            }
          ],
          "title": "Incident Request Rates",
          "type": "timeseries"
        }
      ],
      "title": "Datalayer Alert/Incident actions",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 150,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "SQL command response times made by the Standard API service to Postgres within the selected time range. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 34
          },
          "id": 141,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "delta"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(ibm_aiops_ircore_ncodl_std_postgres_responsems_bucket) by (le)",
              "format": "heatmap",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Standard API Postgres SQL Response Times (ms)",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "SQL command response times made by the Standard API service to Postgres within the selected time range. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 34
          },
          "id": 142,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "delta"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.1.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by(le) (ibm_aiops_ircore_ncodl_jobmgr_postgres_responsems_bucket)",
              "format": "heatmap",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Job Manager Postgres SQL Response Times (ms)",
          "type": "bargauge"
        }
      ],
      "title": "Datalayer Postgres requests",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 41,
      "panels": [
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 608
          },
          "id": 58,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "# Runbook Automation (RBA) Component\n\nThe runbook automation component manages and executes user/system defined actions and runbooks.\nIt can be broken down into the following sub-components:\n- ***Automation Service***: Responsible for executing all user/system-defined actions as well as managing related integrations such as Ansible and SSH connections.\n- ***Runbook Service***: Responsible for executing all user/system-defined runbooks. It also serves the publicly documented [Runbook Automation API](https://www.ibm.com/docs/en/cloud-paks/cloud-pak-aiops/latest?topic=apis-automation-runbook-api).",
            "mode": "markdown"
          },
          "pluginVersion": "11.3.0",
          "title": "",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count that tracks the number of pods that were newly created within the time range.\n\nNew pods indicate restarts may have occurred which could result in loss of functionality. Review the pod uptime graph to see if any gaps in uptime occurred.\n\nNew pods don't always indicate a problem and in some cases are part of routine processing and scaling. ",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pods are stable - no new pods within time range"
                    },
                    "1": {
                      "color": "semi-dark-green",
                      "index": 1,
                      "text": "1 new pod within time range - review uptime graph for gaps"
                    },
                    "2": {
                      "color": "green",
                      "index": 2,
                      "text": "2 new pods within time range - review uptime graph for gaps"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "3 new pods within time range - review uptime graph for gaps"
                    },
                    "4": {
                      "color": "super-light-green",
                      "index": 4,
                      "text": "4 new pods within time range - review uptime graph for gaps"
                    },
                    "5": {
                      "color": "super-light-green",
                      "index": 5,
                      "text": "5 new pods within time range - review uptime graph for gaps"
                    },
                    "6": {
                      "color": "super-light-yellow",
                      "index": 6,
                      "text": "6 new pods within time range - review uptime graph for gaps"
                    },
                    "7": {
                      "color": "super-light-yellow",
                      "index": 7,
                      "text": "7 new pods within time range - review uptime graph for gaps"
                    },
                    "8": {
                      "color": "light-yellow",
                      "index": 8,
                      "text": "8 new pods within time range - review uptime graph for gaps"
                    },
                    "9": {
                      "color": "light-yellow",
                      "index": 9,
                      "text": "9 new pods within time range - review uptime graph for gaps"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 10,
                    "result": {
                      "color": "yellow",
                      "index": 10,
                      "text": "10-20 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 20
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 21,
                    "result": {
                      "color": "light-red",
                      "index": 11,
                      "text": "21-40 new pods within time range - review uptime graph for gaps"
                    },
                    "to": 40
                  },
                  "type": "range"
                },
                {
                  "options": {
                    "from": 41,
                    "result": {
                      "color": "red",
                      "index": 12,
                      "text": "41+ new pods within time range - review uptime graph for gaps"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "noValue": "pods are stable - no new pods within time range",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 613
          },
          "id": 202,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 20
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(((sum((time() - kube_pod_start_time{pod=~\"aiops-ir-core-rba.*\"}) - $__range_s) by (pod)) < 60) <= bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of active pods for each sub-component of Runbook Automation (Automation Service and Runbook Service). Pods stuck in \"Pending\" or \"Unknown\" states for prolonged periods of time are problematic and may result in loss of functionality to the component",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto",
                  "wrapText": true
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 614
          },
          "id": 155,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "kube_pod_status_phase{pod=~\"aiops-ir-core-rba.*\",  phase=~\"Running|Pending|Unknown\"} == 1",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "RBA Component Pods",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {
                "keepLabels": [
                  "phase",
                  "pod"
                ]
              }
            },
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "kube_pod_status_phase": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 1,
                  "kube_pod_status_phase": 0,
                  "phase": 3,
                  "pod": 2
                },
                "renameByName": {
                  "Value": "pod start time"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "field": "pod start time"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Pod Uptimes for different UI Services",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 16,
            "x": 8,
            "y": 614
          },
          "id": 95,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "time() -sum(kube_pod_start_time{pod=~\"aiops-ir-core-rba.*\"}) by (pod)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "RBA Pods Uptime",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of actions initiated within a specified time frame. Tracking action starts helps in understanding the system's usage and identifying potential issues or bottlenecks",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 621
          },
          "id": 97,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_as_actions_started[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Actions started in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of actions that were successfully executed within a given time frame. Monitoring successful actions ensures the Runbook Automation component is functioning correctly and meeting user/system requirements.\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 621
          },
          "id": 99,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_as_actions_finished{status=\"successful\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Actions completed successfully in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rates for Actions started, failed to start, completed, and failed. Actions executed by the Automation Service.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "D"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 16,
            "x": 8,
            "y": 621
          },
          "id": 42,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_as_actions_started[60s]) or vector(0))",
              "format": "time_series",
              "hide": false,
              "legendFormat": "Actions: Started",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_as_action_start_failed[60s]) or vector(0))",
              "hide": false,
              "instant": false,
              "legendFormat": "Actions: Failed to Start",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_as_actions_finished{status=\"successful\"}[60s]) or vector(0))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Actions: Successful",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_as_actions_finished{status=\"unsuccessful\"}[60s]) or vector(0))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Actions: Failed",
              "range": true,
              "refId": "D",
              "useBackend": false
            }
          ],
          "title": "Action rates",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of actions that failed to initiate within a specified time frame. High failure rates might indicate issues with the Automation Service or its integrations, requiring further investigation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 25
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 626
          },
          "id": 98,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_as_action_start_failed[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Actions failed to start in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of actions that failed during execution within a given time frame. Monitoring unsuccessful actions helps in identifying and resolving issues affecting the Runbook Automation component's performance.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 25
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 626
          },
          "id": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_as_actions_finished{status=\"unsuccessful\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Actions completed unsuccessfully in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of runbooks initiated within a specified time frame. Tracking runbook starts helps in understanding system usage and identifying potential issues or bottlenecks.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 631
          },
          "id": 101,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_rbs_runbooks_started[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Runbooks started in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of runbooks that were successfully executed within a specified time frame. Monitoring successful runbook executions ensures the Runbook Automation component is functioning correctly and meeting user/system requirements.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 631
          },
          "id": 102,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_rbs_runbooks_finished{status=\"success\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Runbooks completed successfully in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rates for Runbooks started, failed to start, completed, and failed. Runbooks executed by the Runbooks service.\n\nThe number of runbooks that successfully started vs \nThe number of runbooks that could not start by fail reason vs\nThe total number of finished runbooks (successful & unsuccessful)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "D"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 16,
            "x": 8,
            "y": 631
          },
          "id": 45,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_rbs_runbooks_started[60s]) or vector(0))",
              "format": "time_series",
              "hide": false,
              "legendFormat": "Runbooks: Started",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_rbs_runbooks_start_failed[60s]) or vector(0))",
              "hide": false,
              "instant": false,
              "legendFormat": "Runbooks: Failed to start",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_rbs_runbooks_finished{status=\"success\"}[60s]) or vector(0))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Runbooks: Completed",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(ibm_aiops_rba_rbs_runbooks_finished{status=\"unsuccessful\"}[60s]) or vector(0))",
              "hide": false,
              "instant": false,
              "legendFormat": "Runbooks: Failed",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Runbook rates",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of runbooks that failed to initiate within a given time frame. High failure rates might indicate issues with the Runbook Service or its integrations, requiring further investigation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 25
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 636
          },
          "id": 103,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_rbs_runbooks_start_failed[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Runbooks failed to start in time range",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the number of runbooks that failed during execution within a given time frame. Monitoring unsuccessful runbook executions helps in identifying and resolving issues affecting the Runbook Automation component's performance.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 10
                  },
                  {
                    "color": "red",
                    "value": 25
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 636
          },
          "id": 104,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(ibm_aiops_rba_rbs_runbooks_finished{status=\"unsuccessful\"}[$__range]) or vector(0))",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Runbooks completed unsuccessfully in time range",
          "type": "stat"
        }
      ],
      "title": "RBA component",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 96,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level CPU usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "super-light-green",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "super-light-green",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "yellow",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 4617
          },
          "id": 203,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) * 0.8 <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded 80% of their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "pod-level memory usage is stable - all usage has stayed under 80% of current limits"
                    },
                    "1": {
                      "color": "yellow",
                      "index": 1,
                      "text": "1 pod has exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "yellow",
                      "index": 3,
                      "text": "3 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "yellow",
                      "index": 4,
                      "text": "4 pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded 80% of their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 4617
          },
          "id": 205,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) * 0.8 <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of pods that have exceeded their CPU limits within the time range. This will result in CPU throttling and potentially temporary loss of functionality.\n\nThis will only compare against the ***current*** CPU limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "dark-green",
                      "index": 0,
                      "text": "all pod-level CPU usage has stayed under current limits"
                    },
                    "1": {
                      "color": "super-light-yellow",
                      "index": 1,
                      "text": "1 pod has exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "2": {
                      "color": "yellow",
                      "index": 2,
                      "text": "2 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "3": {
                      "color": "super-light-red",
                      "index": 3,
                      "text": "3 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their CPU limits - review CPU graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "dark-red",
                      "index": 5,
                      "text": "5+ pods have exceeded their CPU limits - review CPU graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 0,
            "y": 4618
          },
          "id": 190,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\", resource=\"cpu\"}) by (pod)) <= max(max_over_time(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Count of component pods that have exceeded their memory limits within the time range.\n\nThis will only compare against the ***current*** memory limit of each pod. If the limits were updated within the time range, the count may be inaccurate.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "index": 0,
                      "text": "all pod-level memory usage has stayed under current limits"
                    },
                    "1": {
                      "color": "red",
                      "index": 1,
                      "text": "1 pod has exceeded their memory limits - review memory graphs for spikes"
                    },
                    "2": {
                      "color": "red",
                      "index": 2,
                      "text": "2 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "3": {
                      "color": "red",
                      "index": 3,
                      "text": "3 pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "4": {
                      "color": "red",
                      "index": 4,
                      "text": "4 pods have exceeded their memory limits - review memory graphs for spikes"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "from": 5,
                    "result": {
                      "color": "red",
                      "index": 5,
                      "text": "5+ pods have exceeded their memory limits - review memory graphs for spikes"
                    },
                    "to": 10000
                  },
                  "type": "range"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 1,
            "w": 12,
            "x": 12,
            "y": 4618
          },
          "id": 201,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "text": {
              "valueSize": 18
            },
            "textMode": "value",
            "wideLayout": true
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum((((max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\", resource=\"memory\"}) by (pod)) <= max(max_over_time(container_memory_working_set_bytes{pod=~\"aiops-ir-core-rba.*\", container!=\"\", container!=\"POD\"}[$__range])) by (pod)) or vector(0)) > bool 0)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Automation Service pods in the RBA component. High CPU usage may indicate that the Automation Service is under heavy load, potentially impacting its ability to execute policies and automate tasks. Monitor this metric to ensure efficient processing of automation tasks and to prevent performance degradation.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 4619
          },
          "id": 50,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-rba-as.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-rba-as.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba-as.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Automation Service CPU Usage ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Automation Service pods in the RBA component. High memory usage may suggest that the Automation Service is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for the Automation Service, and to prevent resource exhaustion.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 4619
          },
          "id": 7,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-core-rba-as-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-rba-as-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba-as-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Automation Service Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the per-second CPU usage rate of the Runbook Service pods in the RBA component. High CPU usage may indicate that the Runbook Service is under heavy load, potentially impacting its ability to manage and execute runbooks. Monitor this metric to ensure efficient processing of runbook tasks and to prevent performance degradation.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 4626
          },
          "id": 52,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(container_memory_working_set_bytes{pod=~\"aiops-ir-core-rba-rbs-.*\", container!=\"\", container!=\"POD\"}) by (pod)",
              "hide": false,
              "instant": false,
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-rba-rbs-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba-rbs-.*\", resource=\"memory\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Runbook Service Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This panel displays the working set memory usage of the Runbook Service pods in the RBA component. High memory usage may suggest that the Runbook Service is consuming significant resources, potentially affecting its performance and stability. Monitor this metric to ensure efficient operation and resource allocation for the Runbook Service, and to prevent resource exhaustion.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "B"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "C"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 4626
          },
          "id": 31,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "11.3.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{pod=~\"aiops-ir-core-rba-rbs-.*\"}) by (pod)",
              "legendFormat": "usage - {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_requests{pod=~\"aiops-ir-core-rba-rbs-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "requests",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "max(kube_pod_container_resource_limits{pod=~\"aiops-ir-core-rba-rbs-.*\", resource=\"cpu\"})",
              "hide": false,
              "instant": false,
              "legendFormat": "limits",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Runbook Service CPU Usage ",
          "type": "timeseries"
        }
      ],
      "title": "RBA resource utilization",
      "type": "row"
    }
  ],
  "schemaVersion": 41,
  "tags": [],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-30m",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "browser",
  "title": "IBM Cloud Pak for AIOps - Event Processing",
  "uid": "cba10e90-4d65-4e53-ba73-13ec30de6f85",
  "version": 3,
  "weekStart": ""
}

